<div class="mainmenu pull-left">
    <ul class="nav navbar-nav collapse navbar-collapse">
        <li><a asp-controller="Home" asp-action="Index" class="active">Home</a></li>
        <li class="dropdown">
            <a ws-is-active-route ws-ignore-action asp-controller="Catalog" asp-action="Index">Магазин<i class="fa fa-angle-down"></i></a>
            <ul role="menu" class="sub-menu">
                <li><a ws-is-active-route asp-controller="Catalog" asp-action="Index">Каталог</a></li>
                <li><a href="checkout.html">Оформить заказ</a></li>
                <li><a ws-is-active-route asp-controller="Cart" asp-action="Index">Корзина</a></li>
                <li><a href="login.html">Вход</a></li>
            </ul>
        </li>
        <li class="dropdown">
            <a ws-is-active-route ws-ignore-action asp-controller="Blogs" asp-action="Index">Блог<i class="fa fa-angle-down"></i></a>
            <ul role="menu" class="sub-menu">
                <li><a ws-is-active-route asp-controller="Blogs" asp-action="Index">Список блогов</a></li>
                <li><a ws-is-active-route asp-controller="Blogs" asp-action="Blog">Блог магазина</a></li>
            </ul>
        </li>
        <li><a ws-is-active-route asp-controller="Home" asp-action="Error404">404</a></li>
        <li><a ws-is-active-route asp-controller="Contacts" asp-action="Index">Контакты</a></li>
        <li><a ws-is-active-route asp-controller="Employees" asp-action="Index">Сотрудники</a></li> 
        @*@if (User.Identity.IsAuthenticated)
        {
           <li><a ws-is-active-route asp-controller="Employees" asp-action="Index">Сотрудники</a></li> 
        }*@
        <li><a asp-controller="WebAPI" asp-action="Index" class="@IsActive("WebAPI")">WebAPI</a></li> 
        <li><a ws-is-active-route asp-controller="AjaxTest" asp-action="Index">AjaxTest</a></li>
        <li><a ws-is-active-route asp-controller="AjaxTest" asp-action="Chat">SignalR</a></li>
    </ul>
</div>

@functions{

    string? IsActive(string Controller, string Action = "Index")
    {
        var _action = ViewContext.RouteData.Values["action"].ToString().ToLower();
        var _controller = ViewContext.RouteData.Values["controller"].ToString().ToLower();
        if(Equals(_controller, Controller.ToString().ToLower()) && Equals(_action, Action.ToString().ToLower()))
        {
            return "active";
        }
        return null;
    }
    

}